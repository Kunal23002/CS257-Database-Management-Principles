CS257 Database Project - Part 1 Testing Guide
Author: Kunal Elchipuram
==============================================

This guide provides step-by-step commands to test all Part 1 functionality.
Part 1 implements DDL (Data Definition Language) commands: CREATE, DROP, LIST.

SETUP: Clean Environment
=========================
# Navigate to the Part 1 directory
cd /Users/kunal/Code/DatabaseProject/CS257Proj_Part1

# Remove all existing database files to start fresh
rm -f dbfile.bin *.tab

# Compile the code
g++ -g -o db db.cpp

# Verify compilation succeeded (should show executable)
ls -lh db


TEST 1: Initial State - Empty Database
=======================================
Command:
./db "list table"

Expected Output:
- Should show "There are currently no tables defined"


TEST 2: CREATE TABLE - Single Table
====================================
Command:
./db "create table students (id int, name char(20), gpa int)"

Expected Output:
- Should show "CREATE TABLE statement"
- No errors

Verify:
./db "list table"

Expected Output:
- Should list "students" table


TEST 3: LIST SCHEMA - View Table Structure
===========================================
Command:
./db "list schema for students"

Expected Output:
- Table PD size, name, number of columns
- Details for each column: name, id, type, length, not_null flag
- Should show 3 columns: id (int), name (char 20), gpa (int)


TEST 4: CREATE TABLE - Multiple Tables
=======================================
Command 1:
./db "create table courses (course_id int, title char(30), credits int)"

Command 2:
./db "create table professors (prof_id int, name char(25), department char(15))"

Verify:
./db "list table"

Expected Output:
- Should list all 3 tables: students, courses, professors


TEST 5: LIST SCHEMA - Different Tables
=======================================
Command 1:
./db "list schema for courses"

Command 2:
./db "list schema for professors"

Expected Output:
- Each should show correct table structure with appropriate columns


TEST 6: CREATE TABLE - Error Handling (Duplicate Table)
========================================================
Command:
./db "create table students (id int, name char(10))"

Expected Output:
- Should show error: "Error in the string: students"
- Error code: rc=-398 (DUPLICATE_TABLE_NAME)


TEST 7: CREATE TABLE - NOT NULL Constraint
===========================================
Command:
./db "create table employees (emp_id int not null, name char(20) not null, salary int)"

Verify:
./db "list schema for employees"

Expected Output:
- Should show not_null flag = 1 for emp_id and name
- Should show not_null flag = 0 for salary


TEST 8: CREATE TABLE - VARCHAR Type
====================================
Command:
./db "create table products (product_id int, description varchar(50), price int)"

Verify:
./db "list schema for products"

Expected Output:
- Should show description column with type = 11 (T_VARCHAR)


TEST 9: DROP TABLE - Remove Single Table
=========================================
Command:
./db "drop table products"

Verify:
./db "list table"

Expected Output:
- Should list tables WITHOUT products
- Should show: students, courses, professors, employees


TEST 10: DROP TABLE - Error Handling (Non-existent Table)
==========================================================
Command:
./db "drop table nonexistent"

Expected Output:
- Should show error about table not existing
- Error code: rc=-397 (TABLE_NOT_EXIST)


TEST 11: DROP TABLE - Remove All Tables
========================================
Command 1:
./db "drop table students"

Command 2:
./db "drop table courses"

Command 3:
./db "drop table professors"

Command 4:
./db "drop table employees"

Verify:
./db "list table"

Expected Output:
- Should show "There are currently no tables defined"


TEST 12: CREATE TABLE - Complex Example
========================================
Command:
./db "create table registration (student_id int not null, course_id int not null, semester char(10), grade char(2), year int not null)"

Verify:
./db "list schema for registration"

Expected Output:
- Should show all 5 columns with correct types
- Should show not_null = 1 for student_id, course_id, year
- Should show not_null = 0 for semester, grade


TEST 13: LIST SCHEMA - Save to File
====================================
Command:
./db "list schema for registration to schema_output"

Expected Output:
- Should save schema details to file named "schema_output"
- Should also display on console

Verify:
cat schema_output

Expected:
- File should contain the same schema information


CLEANUP: Remove Test Files
===========================
# Remove the executable and database files
rm -f db dbfile.bin *.tab schema_output

# Or keep for further testing


SUMMARY OF PART 1 FUNCTIONALITY
================================
✓ CREATE TABLE - Creates table definitions in catalog (dbfile.bin)
✓ DROP TABLE - Removes table definitions from catalog
✓ LIST TABLE - Shows all defined tables
✓ LIST SCHEMA - Shows detailed table structure
✓ Supports: INT, CHAR(n), VARCHAR(n) data types
✓ Supports: NOT NULL constraints
✓ Error handling for duplicate tables, invalid names, etc.

Note: Part 1 does NOT implement INSERT, SELECT, DELETE, UPDATE commands.
      Those are implemented in Part 2.

